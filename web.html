<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		body {font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;}
	</style>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
	<h3 style="font-family: FontAwesome"></h3>
	<p></p>

	<input type="file">
	<br>
	<img alt="">
	<script>
		var url = 'http://localhost:3000/customers-details/clients/456/signature';
		// var url = 'http://api.bewebmaster.co.il/customers-details/clients/456/media';
		document.querySelector('h3').textContent = 'The URL - ' + url;


		// fetch(url, {method: "POST", })
		// .then(response => {
		// 	console.log(response);
		// 	return response.text()
		// }).then(data => {
		// 	console.log(data);
		// 	document.querySelector('p').innerHTML = data;
		// })

		console.log(document.querySelector('input'));
		var preview = document.querySelector('img');
		document.querySelector('input').addEventListener('change', e => {
			var reader  = new FileReader();
			reader.onload = function (e) {
				preview.src = reader.result;

				// var data = new FormData()
				// data.append('sign', );
				// console.log(data.get('sign'));
				var headers = new Headers({'Content-Type': 'application/x-www-form-urlencoded'});
				fetch(url, {
					method: "PUT",
					headers: headers,
					body: 'sign=' + reader.result,
				})
				.then(resp => {console.log(resp);return resp.text();})
				.then(body => {console.log(body);return body;})
			}
			reader.readAsDataURL(e.target.files[0]);
		});
	</script>
</body>
</html>